<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Smart Scientific Calculator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root{
  --bg:#111;
  --box:#1c1c1c;
  --btn:#333;
  --text:#fff;
}
.light{
  --bg:#f2f2f2;
  --box:#ffffff;
  --btn:#ddd;
  --text:#000;
}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:Arial;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}
.calculator{
  background:var(--box);
  width:360px;
  padding:15px;
  border-radius:12px;
}
.top{
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.toggle{
  cursor:pointer;
  font-size:14px;
}
input{
  width:100%;
  height:60px;
  font-size:26px;
  text-align:right;
  border:none;
  border-radius:8px;
  padding:10px;
  margin:10px 0;
}
.grid{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:8px;
}
button{
  height:48px;
  border:none;
  border-radius:8px;
  font-size:16px;
  cursor:pointer;
  background:var(--btn);
  color:var(--text);
}
.op{background:#ff9500;color:#fff;}
.equal{background:#34c759;color:#fff;grid-column:span 2;}
.clear{background:#ff3b30;color:#fff;}
.history{
  font-size:13px;
  margin-top:8px;
  max-height:70px;
  overflow:auto;
}
</style>
</head>

<body>
<div class="calculator">
  <div class="top">
    <b>Smart Calculator</b>
    <span class="toggle" onclick="mode()">üåô / ‚òÄÔ∏è</span>
  </div>

  <input id="scr" disabled>

  <div class="grid">
    <button onclick="fn('sqrt')">‚àö</button>
    <button onclick="fn('sq')">x¬≤</button>
    <button onclick="fn('sin')">sin</button>
    <button onclick="fn('cos')">cos</button>
    <button onclick="fn('tan')">tan</button>

    <button class="clear" onclick="clr()">C</button>
    <button onclick="add('%')">%</button>
    <button onclick="add('/')">√∑</button>
    <button onclick="add('*')">√ó</button>
    <button onclick="add('-')">‚àí</button>

    <button onclick="add('7')">7</button>
    <button onclick="add('8')">8</button>
    <button onclick="add('9')">9</button>
    <button onclick="add('+')">+</button>
    <button onclick="add('.')">.</button>

    <button onclick="add('4')">4</button>
    <button onclick="add('5')">5</button>
    <button onclick="add('6')">6</button>
    <button onclick="add('1')">1</button>
    <button onclick="add('2')">2</button>

    <button onclick="add('3')">3</button>
    <button onclick="add('0')">0</button>
    <button class="equal" onclick="cal()">=</button>
  </div>

  <div class="history" id="his"></div>
</div>

<script>
let s=document.getElementById("scr");
let h=document.getElementById("his");
let hist=[];

function add(v){s.value+=v;}
function clr(){s.value="";}
function cal(){
 try{
  let r=eval(s.value);
  hist.unshift(s.value+" = "+r);
  hist=hist.slice(0,10);
  h.innerHTML=hist.join("<br>");
  s.value=r;
 }catch{ s.value="Error"; }
}
function fn(t){
 let v=parseFloat(s.value);
 if(isNaN(v))return;
 if(t=="sqrt")s.value=Math.sqrt(v);
 if(t=="sq")s.value=v*v;
 if(t=="sin")s.value=Math.sin(v);
 if(t=="cos")s.value=Math.cos(v);
 if(t=="tan")s.value=Math.tan(v);
}
function mode(){
 document.body.classList.toggle("light");
}
document.addEventListener("keydown",e=>{
 if("0123456789.+-*/".includes(e.key))add(e.key);
 if(e.key==="Enter")cal();
 if(e.key==="Backspace")s.value=s.value.slice(0,-1);
});
</script>
</body>
  </html>
